#include "stfu.h"
#include "../libstat/mean.h"
#include "../libstat/variance.h"

double data[] = { 0.3803258202, 0.4862996614, 0.3458708754, 0.8110707540,
		0.2540864513, 0.0362077923, 0.0770787250, 0.8263736088, 0.3480749971,
		0.0855766822, 0.9291273361, 0.2435465850, 0.4811552899, 0.9239264179,
		0.8787580444, 0.1633391052, 0.5068081107, 0.6768686509, 0.4135868040,
		0.5034904842, 0.1040892911, 0.4860526361, 0.1630025974, 0.2792987184,
		0.3051138259, 0.3064976981, 0.3167127728, 0.1804925913, 0.7819690625,
		0.9095359740, 0.3491815832, 0.4686408012, 0.9049565739, 0.3635819355,
		0.9414246263, 0.7267571427, 0.5663195951, 0.2691926293, 0.4516265344,
		0.3761355374, 0.4139878692, 0.9809205765, 0.8093522320, 0.6879283807,
		0.3308236345, 0.5489254099, 0.1408711703, 0.2886719321, 0.3350845359,
		0.5075844266, 0.6305291715, 0.4850931485, 0.8904795213, 0.0392858277,
		0.0822856006, 0.7212107824, 0.1633436870, 0.6097592136, 0.6317416819,
		0.3537614493, 0.2184876554, 0.8069170317, 0.8018025705, 0.1540993696,
		0.0065654115, 0.1804404057, 0.3203838677, 0.1622293655, 0.8801337878,
		0.7246308055, 0.6110766777, 0.5108946669, 0.6090764564, 0.6082438461,
		0.6494010315, 0.1762157103, 0.5042351508, 0.3623371325, 0.3860553329,
		0.2232001551, 0.7208827554, 0.9508082492, 0.5260427173, 0.4353152426,
		0.1005006871, 0.6553893103, 0.6555628765, 0.0117997442, 0.6140279169,
		0.5759679545, 0.9992645870, 0.0369809665, 0.3785539931, 0.1956601593,
		0.7520574160, 0.5321255898, 0.6342334966, 0.2623760255, 0.6016180557,
		0.7070395847, 0.2932669604, 0.5024666568, 0.7652408943, 0.8631055140,
		0.9640266071, 0.2952725790, 0.9869554289, 0.5408096291, 0.7412130932,
		0.3669001356, 0.7981349552, 0.0279567169, 0.1855880398, 0.4712071191,
		0.9403474051, 0.8582831615, 0.0942617106, 0.2719285230, 0.7868996952,
		0.3623171538, 0.6942699701, 0.6046186216, 0.2528284402, 0.9817155070,
		0.0926126925, 0.0037043344, 0.3279022349, 0.9703782169, 0.1743661118,
		0.2303417170, 0.5054069628, 0.3971881908, 0.2509562956, 0.8990477401,
		0.7005817694, 0.3477746133, 0.5938289488, 0.5853247852, 0.6582593694,
		0.9878086457, 0.9535550118, 0.6438381149, 0.7040500174, 0.2016897334,
		0.3835139518, 0.0155839446, 0.8034856113, 0.9075475103, 0.3767005155,
		0.4892625670, 0.6903352606, 0.7407281844, 0.2244158818, 0.9139374406,
		0.2984847776, 0.8681526535, 0.0944550880, 0.5076251417, 0.9765868041,
		0.5310346046, 0.9047913097, 0.7432765971, 0.9326658872, 0.1338003192,
		0.6074904389, 0.4070061065, 0.7913577764, 0.5169628465, 0.8407406973,
		0.3420370639, 0.6414961346, 0.8069277207, 0.4705174754, 0.4107028299,
		0.4745948458, 0.2756482543, 0.2308388182, 0.1259700229, 0.5012083209,
		0.1545774555, 0.0138666279, 0.7471610137, 0.3389879036, 0.4979267729,
		0.2364433149, 0.5844437128, 0.5172892564, 0.5665819317, 0.9166544061,
		0.2384298102, 0.5171510935, 0.5516876555, 0.8133023284, 0.4306576515,
		0.5811919540, 0.2519565446, 0.2680482243, 0.9534952808, 0.2202185858,
		0.1108273222, 0.7995247774, 0.0715895260, 0.8352386213, 0.4214520423,
		0.4182426489, 0.4453524057, 0.7719704030, 0.4372200932, 0.8508650488,
		0.7816448431, 0.5158111837, 0.1253830133, 0.9063447690, 0.1453166426,
		0.1488526475, 0.2239361456, 0.1572394452, 0.2180183656, 0.5918978452,
		0.5917121176, 0.0755343745, 0.7861217686, 0.4938051623, 0.1599666564,
		0.3580672157, 0.7530133650, 0.6146800007, 0.4425234446, 0.1345349327,
		0.6875864421, 0.7794422671, 0.7846083050, 0.4036676754, 0.8424658578,
		0.4120273430, 0.9977892569, 0.5598153034, 0.4271856009, 0.7656051693,
		0.9731062868, 0.7295073998, 0.7886181225, 0.6767324421, 0.9303834277,
		0.6086329750, 0.5066655388, 0.6779354825, 0.5111037256, 0.8276412888,
		0.7436617968, 0.4344987114, 0.9983939069, 0.6887355945, 0.0977331041,
		0.5332713177, 0.8737389149, 0.9825961568, 0.1444183479, 0.5162211835,
		0.2407199539, 0.6012572083, 0.7563056896, 0.0915460399, 0.7719026643,
		0.9039462024, 0.3340102010, 0.4057818331, 0.5062637924, 0.8245235140,
		0.7271661575, 0.0780447664, 0.9955547664, 0.4195803311, 0.9133491796,
		0.7128392228, 0.4944559114, 0.4558511720, 0.9070183182, 0.5401832759,
		0.2895297137, 0.5496727294, 0.3933783553, 0.6632992091, 0.4400223416,
		0.7421149355, 0.1349101855, 0.5011873995, 0.0718253409, 0.7305608554,
		0.3586809254, 0.8816292547, 0.5202998426, 0.4322911856, 0.7973291197,
		0.6108920167, 0.6370190759, 0.2011330721, 0.0124309653, 0.5793781701,
		0.4072854608, 0.6083571026, 0.8037782077, 0.7297003433, 0.1333056669,
		0.0246426154, 0.1075310748, 0.8823274063, 0.3028621607, 0.9770492361,
		0.3444709889, 0.4666169366, 0.7380379008, 0.6565280834, 0.0577768517,
		0.2337024654, 0.8837245238, 0.5535720638, 0.2243779166, 0.0745432148,
		0.1354109565, 0.5349229812, 0.5502993289, 0.8609162216, 0.6955020940,
		0.5902449623, 0.4028475489, 0.5308609951, 0.4006730608, 0.9548031730,
		0.0628974275, 0.2628756709, 0.8133903992, 0.6932998256, 0.4917820650,
		0.3594913371, 0.5685897154, 0.8997154377, 0.7724723520, 0.9203666960,
		0.5864847151, 0.9919560718, 0.1819716917, 0.6438641682, 0.0788346811,
		0.5694088995, 0.0155273948, 0.1123446656, 0.0875612084, 0.2239051011,
		0.2632106789, 0.7367170425, 0.9840114763, 0.7037161391, 0.7701148910,
		0.7105825858, 0.5695638177, 0.9549170762, 0.1843808013, 0.8441081687,
		0.0349317298, 0.8434217585, 0.3574651803, 0.7910071556, 0.5398292617,
		0.7821806358, 0.0048132344, 0.6438505454, 0.0886157425, 0.0193720092,
		0.7338351570, 0.0721038668, 0.0370374784, 0.2655774922, 0.6023046036,
		0.9434375524, 0.1954473866, 0.2847543203, 0.5314660711, 0.4686292166,
		0.7478713021, 0.0090491550, 0.8759842710, 0.6494451035, 0.5049280545,
		0.7195190315, 0.9542113555, 0.8817407197, 0.1615229997, 0.7016208456,
		0.3613700907, 0.3223342155, 0.1544044517, 0.4971486276, 0.0804907825,
		0.5016239711, 0.2580646664, 0.8613050433, 0.6354640850, 0.2695364815,
		0.8047801976, 0.9970801662, 0.6402870429, 0.9036620362, 0.7313374135,
		0.7495744157, 0.6848928640, 0.7673528696, 0.2598586344, 0.2173522372,
		0.2061726713, 0.2626565400, 0.9909492543, 0.7881461323, 0.6486045695,
		0.9041953579, 0.8316106035, 0.2803577982, 0.5750335458, 0.5499788232,
		0.5480632216, 0.3269577148, 0.5347672416, 0.8825307772, 0.9888862750,
		0.1247395747, 0.3490869038, 0.2528328119, 0.5412366352, 0.0353095942,
		0.7882278225, 0.0142791197, 0.4040855074, 0.2642392436, 0.3564863073,
		0.2114994631, 0.5540849088, 0.7956832819, 0.3366706372, 0.5424234073,
		0.7747507856, 0.8186965406, 0.0204838750, 0.2554729225, 0.3638798861,
		0.6926469652, 0.0269639542, 0.5417444119, 0.2888306471, 0.6394965714,
		0.3384060883, 0.9336228124, 0.7513412422, 0.5839316096, 0.2829523342,
		0.3773524268, 0.7895783331, 0.1568047188, 0.1252282251, 0.0935372436,
		0.7690719046, 0.5427021954, 0.8289291791, 0.2192215819, 0.2155081146,
		0.2646713194, 0.7307596625, 0.7472868971, 0.6526210160, 0.7398910036,
		0.8541774050, 0.5315595670, 0.4628870725, 0.3537527386, 0.9113066697,
		0.6524076559, 0.8626669641, 0.5058921769, 0.4430658048, 0.5834374238,
		0.0466641117, 0.6307661214, 0.6633375581, 0.3349163861, 0.9193795578,
		0.7381700504, 0.1849011609, 0.8193322512, 0.4375980216, 0.8731902222,
		0.9364166618, 0.8376635816, 0.2047060999, 0.3104120103, 0.6468198619,
		0.5608690473, 0.7328784975, 0.5572014101, 0.6303864797, 0.7927589855,
		0.9002296423, 0.6645692648, 0.2803152951, 0.2102228990, 0.2505143644,
		0.8201165335, 0.4252460542, 0.8692131632, 0.8849808649, 0.4835698557,
		0.9904821959, 0.9959608973, 0.3279336706, 0.5346072396, 0.8780699329,
		0.1943853480, 0.8702800872, 0.1632785524, 0.3538693598, 0.4782198669,
		0.5571784052, 0.9697360631, 0.0945991922, 0.5203917021, 0.3813249385,
		0.0034303832, 0.4584381428, 0.8028647239, 0.8980177965, 0.8524434653,
		0.3705854464, 0.4367398684, 0.6882515782, 0.4275155291, 0.4465904031,
		0.2463318559, 0.0856485341, 0.1503830011, 0.3193386339, 0.9187225114,
		0.4410300574, 0.1128027564, 0.8536945881, 0.3531382420, 0.2450037995,
		0.5705217657, 0.5071139414, 0.0303596319, 0.8172047609, 0.8083722732,
		0.9720424703, 0.9751133172, 0.4249967132, 0.2582357357, 0.6056517686,
		0.6689399761, 0.2910421859, 0.0101889366, 0.7864311992, 0.3187130392,
		0.9349541284, 0.1396279096, 0.6991972728, 0.3508906672, 0.7466175940,
		0.9906685323, 0.5063989790, 0.0199420952, 0.7681029502, 0.2762655368,
		0.5569353958, 0.9717118426, 0.9815756047, 0.0619014370, 0.5387593956,
		0.7044832928, 0.9854466922, 0.5744711482, 0.0322167805, 0.2850906179,
		0.9983397878, 0.2158201653, 0.9376221267, 0.9094120888, 0.9373493411,
		0.5350477124, 0.7099128623, 0.2364374321, 0.4462656447, 0.6151235873,
		0.6231467478, 0.8684162513, 0.4989964693, 0.5520039567, 0.2202073739,
		0.9557312886, 0.9939184500, 0.1414719304, 0.9135869038, 0.7999959866,
		0.5989298131, 0.2946440594, 0.4904177667, 0.5978060821, 0.4551735595,
		0.6502784551, 0.5688281466, 0.2518681714, 0.8894787982, 0.4057646183,
		0.1786071066, 0.6175438395, 0.6304425750, 0.2067343276, 0.1613380135,
		0.1705668924, 0.5852429383, 0.4597848790, 0.5975613661, 0.0473839425,
		0.2723046491, 0.7775304167, 0.6813848719, 0.9939606738, 0.0132524852,
		0.9823816748, 0.9952159007, 0.6055198959, 0.8006643495, 0.8844713139,
		0.4408759970, 0.7876592147, 0.8513868623, 0.5230564518, 0.3955718301,
		0.8373171627, 0.5797989390, 0.6470172191, 0.3099570203, 0.5071678378,
		0.4599379621, 0.4854892597, 0.4212537690, 0.4493240356, 0.7280755715,
		0.8663815938, 0.0208169373, 0.1994802574, 0.1826239154, 0.5567211611,
		0.5831871469, 0.7767095936, 0.7921172271, 0.8308450733, 0.6145349474,
		0.3213565324, 0.5724087902, 0.9013382397, 0.7260350470, 0.3534127144,
		0.3684424041, 0.0461516287, 0.1739180376, 0.7272686215, 0.4499688003,
		0.1128534648, 0.1595206857, 0.7678125139, 0.6379119982, 0.2515848624,
		0.7971408410, 0.5038346500, 0.5612451967, 0.2300676755, 0.2791148373,
		0.8939816685, 0.2460059521, 0.5604079499, 0.5870629647, 0.2249444962,
		0.4853829692, 0.4384347594, 0.8774260789, 0.0124023857, 0.1305704041,
		0.6695612299, 0.2080520982, 0.1117082133, 0.2946282248, 0.1459922428,
		0.7717823995, 0.1226677897, 0.8600147287, 0.3214448386, 0.3975907888,
		0.6582736595, 0.7672635898, 0.1171653332, 0.3074323050, 0.0135872134,
		0.0171659864, 0.8804797600, 0.5866332743, 0.4218164258, 0.4126953726,
		0.6737355698, 0.2812039432, 0.2735104780, 0.7877804182, 0.1735997716,
		0.7908933829, 0.8337730499, 0.5476808259, 0.2457787546, 0.7482816602,
		0.5989388102, 0.6355044855, 0.4718692412, 0.3185413069, 0.9215178950,
		0.2950525209, 0.8493862495, 0.7752118149, 0.1181613610, 0.3964480211,
		0.6138027032, 0.3379553824, 0.3187231899, 0.2721424019, 0.4484667649,
		0.6534335336, 0.1926082196, 0.4292690461, 0.7072559133, 0.6431581484,
		0.8444667985, 0.7275444223, 0.1997358529, 0.7121553997, 0.7089137340,
		0.4547915512, 0.2721426425, 0.5940674793, 0.0176996715, 0.0047604787,
		0.5709531055, 0.1169276844, 0.2907915000, 0.3906075971, 0.3352007804,
		0.0390693472, 0.6667516529, 0.4764405741, 0.1117133170, 0.3836518679,
		0.6235537283, 0.6244008794, 0.3670288863, 0.4387186882, 0.9725305445,
		0.5131609658, 0.4591605191, 0.3074398348, 0.6585423711, 0.7373962018,
		0.3983037659, 0.9234633747, 0.5964349219, 0.0634135743, 0.6365223157,
		0.0145684339, 0.7031037605, 0.6927277437, 0.6596912318, 0.6861457959,
		0.9781407284, 0.3070098227, 0.9923453977, 0.5835348312, 0.2680545015,
		0.6883426664, 0.8977105076, 0.6196654557, 0.6905366742, 0.7731463663,
		0.6020960060, 0.0467074779, 0.5424984418, 0.9878071136, 0.4383758635,
		0.9458596623, 0.4176455745, 0.7436151609, 0.9874795262, 0.6112553963,
		0.0069525038, 0.3017992947, 0.7308476796, 0.4450121465, 0.3011725818,
		0.1111592297, 0.3793569558, 0.9668642800, 0.0680427652, 0.8318221208,
		0.2908359560, 0.3103474803, 0.4805927445, 0.0177268690, 0.4171116086,
		0.7497946504, 0.9285459049, 0.7739499458, 0.9428487278, 0.3125567447,
		0.4051676742, 0.1441916860, 0.0722089210, 0.0092780848, 0.9705874021,
		0.4275504533, 0.3108134293, 0.3474686176, 0.2574373669, 0.0462214772,
		0.1390279983, 0.2649086039, 0.3061521548, 0.3596350386, 0.0394857613,
		0.1587970460, 0.4488764831, 0.5556899610, 0.5208664246, 0.3537934853,
		0.3008974909, 0.2006768136, 0.5405198467, 0.5391301303, 0.7205618317,
		0.9613650218, 0.4543356078, 0.5994193126, 0.5673277764, 0.9737363116,
		0.2601945213, 0.8354580450, 0.1711884501, 0.1194882088, 0.8939725606,
		0.9006993649, 0.2683530416, 0.5677143157, 0.1299819965, 0.6443708681,
		0.2816540959, 0.2001098508, 0.7378064636, 0.4002824080, 0.3591668617,
		0.4362336690, 0.1108568575, 0.7584953743, 0.4270181360, 0.1727287156,
		0.8211150668, 0.3512845368, 0.2081735412, 0.3021219534, 0.6828006270,
		0.9298034166, 0.0006468653, 0.9546530322, 0.9703021218, 0.7242409738,
		0.3121157295, 0.1295515653, 0.6357782229, 0.5820525947, 0.7829112072,
		0.8375003538, 0.1540202495, 0.2558167533, 0.5764340932, 0.1760410655,
		0.0184587114, 0.6549103851, 0.3505921203, 0.9442948366, 0.1899463657,
		0.5956585551, 0.6426535840, 0.9832269245, 0.3225624196, 0.3723753451,
		0.6481714181, 0.9892348861, 0.1508174575, 0.9898206757, 0.0424810114,
		0.4023530272, 0.3935938289, 0.1956259271, 0.7001375135, 0.0311534176,
		0.3688455900, 0.6987847522, 0.8450376022, 0.3394048074, 0.4248356068,
		0.7866088939, 0.1065843127, 0.5299944971, 0.2489895622, 0.8268522416,
		0.4447805898, 0.9375952961, 0.0985587614, 0.8181797804, 0.9598810313,
		0.7123236173, 0.5424783581, 0.5493747903, 0.9173383109, 0.9321386077,
		0.3335925384, 0.1476292072, 0.0344155023, 0.8639537722, 0.6342795806,
		0.7137826715, 0.0560971317, 0.5769134013, 0.0383427910, 0.8847482607,
		0.2200937707, 0.7570433290, 0.6045993374, 0.8371358947, 0.0401204737,
		0.5427952930, 0.3712519362, 0.4642093829, 0.6585655515, 0.5880277817,
		0.0372762602, 0.7219626967, 0.0665199213, 0.8700160338, 0.6258877915,
		0.6906918351, 0.7586361970, 0.8908816844, 0.0555558623, 0.6998782238,
		0.7496726061, 0.8042635740, 0.8904803530, 0.3000302886, 0.9310014910,
		0.7387821697, 0.7839758235, 0.3116261144, 0.6959542779, 0.5587800874,
		0.7064482944, 0.3678574796, 0.3754405167, 0.4916466882, 0.8291094778,
		0.9349316469, 0.1456712328, 0.3454786064, 0.7827049235, 0.1446141307,
		0.0633419013, 0.1975203011, 0.2543769137, 0.1880802428, 0.0372942117,
		0.6187152786, 0.5498942257, 0.7325364738, 0.9339864078, 0.1672819713,
		0.8878023558, 0.8549811094, 0.3350329271, 0.8181622721, 0.9717016874,
		0.5696547507, 0.7088479618, 0.5096606581, 0.7468777699, 0.2747587204,
		0.8850193596, 0.4050773379, 0.6704844518, 0.7354955696, 0.1221820541,
		0.8926554872

};

int double_eq(double a, double b, double epsilon) {
	double diff = a - b;

	diff *= diff;
	epsilon *= epsilon;

	return diff <= epsilon;
}

const size_t data_len = (sizeof(data)) / (sizeof(*data));

int main(void) {
	STFU_TRUE("moyenne arithmétique", double_eq(mean(data, data_len), 0.514931, 0.001));

	STFU_TRUE("variance", double_eq(variance(data, data_len), 0.079763, 0.001));

	STFU_TRUE("écart type", double_eq(stddev(data, data_len), 0.282424, 0.001));

	STFU_SUMMARY();
	return STFU_NUMBER_FAILED;
}
